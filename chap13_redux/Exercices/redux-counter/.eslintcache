[{"/Users/antoine/Desktop/COURS/3WA/Pro10_react/chap13_redux/Exercices/redux-counter/src/index.js":"1","/Users/antoine/Desktop/COURS/3WA/Pro10_react/chap13_redux/Exercices/redux-counter/src/reportWebVitals.js":"2","/Users/antoine/Desktop/COURS/3WA/Pro10_react/chap13_redux/Exercices/redux-counter/src/App.js":"3","/Users/antoine/Desktop/COURS/3WA/Pro10_react/chap13_redux/Exercices/redux-counter/src/reducers/index.js":"4","/Users/antoine/Desktop/COURS/3WA/Pro10_react/chap13_redux/Exercices/redux-counter/src/reducers/counter.js":"5","/Users/antoine/Desktop/COURS/3WA/Pro10_react/chap13_redux/Exercices/redux-counter/src/constants/actions.js":"6","/Users/antoine/Desktop/COURS/3WA/Pro10_react/chap13_redux/Exercices/redux-counter/src/actions/actions-types.js":"7"},{"size":755,"mtime":1607097999658,"results":"8","hashOfConfig":"9"},{"size":362,"mtime":1607094240500,"results":"10","hashOfConfig":"9"},{"size":648,"mtime":1607098938624,"results":"11","hashOfConfig":"9"},{"size":159,"mtime":1607096949844,"results":"12","hashOfConfig":"9"},{"size":491,"mtime":1607098840829,"results":"13","hashOfConfig":"9"},{"size":76,"mtime":1607098540702,"results":"14","hashOfConfig":"9"},{"size":1019,"mtime":1607098690009,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"1skttzo",{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"18"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"18"},"/Users/antoine/Desktop/COURS/3WA/Pro10_react/chap13_redux/Exercices/redux-counter/src/index.js",[],["33","34"],"/Users/antoine/Desktop/COURS/3WA/Pro10_react/chap13_redux/Exercices/redux-counter/src/reportWebVitals.js",[],"/Users/antoine/Desktop/COURS/3WA/Pro10_react/chap13_redux/Exercices/redux-counter/src/App.js",["35"],"import { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { load_users, start_counter } from \"./actions/actions-types\";\n\nconst App = () => {\n  const { count, users } = useSelector((state) => state.c); // attention j'ai mis un combineReducers\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(start_counter());\n\n    dispatch(load_users());\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <p>Counter : {count}</p>\n      { users.length > 0 && (\n        <ul>\n          { users.map((user, i) => <li key={i}>{user.name}</li>)}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","/Users/antoine/Desktop/COURS/3WA/Pro10_react/chap13_redux/Exercices/redux-counter/src/reducers/index.js",[],"/Users/antoine/Desktop/COURS/3WA/Pro10_react/chap13_redux/Exercices/redux-counter/src/reducers/counter.js",[],"/Users/antoine/Desktop/COURS/3WA/Pro10_react/chap13_redux/Exercices/redux-counter/src/constants/actions.js",[],"/Users/antoine/Desktop/COURS/3WA/Pro10_react/chap13_redux/Exercices/redux-counter/src/actions/actions-types.js",["36"],"import { INCREMENT, SET_USERS } from \"../constants/actions\";\n\nlet interval = null;\n\n// Cette action retourne un dispatch qui sera fait de manière aysnchrone\n// c'est dans les actions-types que l'on va gérer ce type de problématique \nexport const start_counter = () => {\n  clearInterval(interval);\n\n  return dispatch => {\n    interval = setInterval(() => {\n      dispatch(increment());\n    }, 1000);\n  };\n};\n\nexport const increment = () => {\n  return {\n    type: INCREMENT,\n  };\n};\n\nexport const load_users = () => {\n\n    return dispatch => {\n        const asyncFetch = async url => {\n            const response = await fetch(url);\n            const users = await response.json();\n            const waiting = await new Promise( res => setTimeout(() => res(true), 1000) );\n\n            dispatch(set_users({users})) ;\n        }\n\n        // asynchrone\n        asyncFetch('https://jsonplaceholder.typicode.com/users');\n    }\n}\n\nexport const set_users = payload => {\n\n    return {\n        type : SET_USERS, payload\n    }\n}",{"ruleId":"37","replacedBy":"38"},{"ruleId":"39","replacedBy":"40"},{"ruleId":"41","severity":1,"message":"42","line":13,"column":6,"nodeType":"43","endLine":13,"endColumn":8,"suggestions":"44"},{"ruleId":"45","severity":1,"message":"46","line":29,"column":19,"nodeType":"47","messageId":"48","endLine":29,"endColumn":26},"no-native-reassign",["49"],"no-negated-in-lhs",["50"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["51"],"no-unused-vars","'waiting' is assigned a value but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation",{"desc":"52","fix":"53"},"Update the dependencies array to be: [dispatch]",{"range":"54","text":"55"},[402,404],"[dispatch]"]